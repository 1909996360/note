<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>类组件与函数组件有什么异同</title>
</head>
<body>
    <script>
        /*
            相同点：
            
            组件是React可复用的最小代码片段，它们会返回要在页面中渲染的React元素，也正因为组件是React的最小编码单位，所以无论是函数组件还是类组件，在使用方式和最终呈现效果上都是完全一致的
            
            我们甚至可以将一个类组件改写成函数组件，或者把函数组件改写成一个类组件（虽然并不推荐这种重构行为），从使用者的角度而言，很难从使用体验上区分两者，而且在现代浏览器中，闭包和类的性能只在极端场景下才会有明显的差别，所以，基本可认为两者作为组件是一致的
        
        
            不同点：
            · 它们在开发时的心智模型上却存在巨大的差异，类组件是基于面向对象编程的，它主打的是继承、生命周期等核心概念，而函数组件内核是函数式编程，主打的是immutable，没有副作用。引用透明等特点
            · 之前，在使用场景上，如果存在需要使用声明周期的组件，那么主推类组件；
            设计模式上，如果需要使用继承，那么主推类组件，但由于React Hooks的推出，生命周期概念的淡出，函数组件可以完全取代类组件，其次继承并不是组件最佳的设计模式，官方会更推崇组合优于继承的设计概念，所以类组件在这方面的优势也在淡出
            · 性能优化上，类组件主要依靠shouldComponentUpdate阻断渲染来提升性能，而函数组件依靠React.memo缓存渲染结果来提升性能
            · 从上手程度而言，类组件更容易上手，从未来趋势上看，由于React Hooks的推出，函数组件成了社区未来主推的方案
            · 类组件在未来时间切片与并发模式中，由于生命周期带来的复杂度，并不易于优化。而函数组件本身轻量简单，且在Hooks的基础上提供了比原先更细粒度的逻辑组织与复用，更能适应React的未来发展
        */ 
    </script>
</body>
</html>